---
title: "Pattern Causality between two series"
author: "Stavros Stavroglou, Athanasios Pantelous, Hui Wang"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Pattern Causality between two series}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  warning = FALSE,
  collapse = TRUE,
  comment = "#>"
)
```

This vignette demonstrates advanced analysis techniques for examining causality between two time series. We'll explore:

1. Cross-validation methods to assess robustness
2. Parameter optimization for better results
3. Visualization of causality relationships

The cross-validation approach helps ensure:
- Reliability of results
- Robustness across different sample sizes
- Stability of causality patterns

## Cross validation

As an example, we could import climate from `patterncausality` package.

```{r message = FALSE}
library(patterncausality)
data(climate_indices)
```

Then we consider a method of cross-validation to see the robustness of pattern causality.

```{r}
set.seed(123)
X <- climate_indices$PNA
Y <- climate_indices$NAO
result <- pcCrossValidation(
  X = X, 
  Y = Y,  
  numberset = c(100, 200, 300, 400, 500),
  E = 3,
  tau = 2,
  metric = "euclidean",
  h = 1,
  weighted = FALSE
)
print(result$results)
```

In order to make the results better observed, we provide the `plotCV` function to give a line chart of the result.

```{r}
plot(result)
```

We can find that the causality keep the same position when the sample number is large enough, this method indeed captures hidden patterns and causal connections in sequences.

