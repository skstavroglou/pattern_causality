<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Multivariate Pattern Causality Analysis: Unveiling System-Wide Interactions • patterncausality</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multivariate Pattern Causality Analysis: Unveiling System-Wide Interactions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">patterncausality</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/patterncausality.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/advanced.html">Advanced Pattern Causality: Custom Functions for Tailored Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dynamic.html">Dynamic Analysis: Pattern Causality in Time Points</a></li>
    <li><a class="dropdown-item" href="../articles/matrix.html">Multivariate Pattern Causality Analysis: Unveiling System-Wide Interactions</a></li>
    <li><a class="dropdown-item" href="../articles/series.html">Unveiling Causal Relationships in Time Series Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/skstavroglou/pattern_causality/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Multivariate Pattern Causality Analysis: Unveiling System-Wide Interactions</h1>
                        <h4 data-toc-skip class="author">Stavros
Stavroglou, Athanasios Pantelous, Hui Wang</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/skstavroglou/pattern_causality/blob/main/vignettes/matrix.Rmd" class="external-link"><code>vignettes/matrix.Rmd</code></a></small>
      <div class="d-none name"><code>matrix.Rmd</code></div>
    </div>

    
    
<p>This vignette provides a comprehensive demonstration of multivariate
pattern causality analysis, a powerful technique for investigating
complex interactions within large-scale systems. This approach is
particularly useful when dealing with multiple interconnected time
series, allowing us to move beyond pairwise analysis and understand
system-wide dynamics. The key aspects of this analysis include:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Matrix-based causality assessment:</strong> Quantifying
causal relationships between all pairs of time series in the system,
represented in a matrix format.</li>
<li>
<strong>System-wide pattern identification:</strong> Identifying
recurring patterns of behavior across the entire system, revealing
underlying dynamics.</li>
<li>
<strong>Visualization of complex causal relationships:</strong>
Using graphical representations to make intricate causal networks more
understandable.</li>
<li>
<strong>Analysis of effects across the entire system:</strong>
Measuring the overall impact of causality within the system, providing
insights into the collective behavior.</li>
</ol>
<p>The matrix-based approach is particularly well-suited for the study
of:</p>
<ul>
<li>
<strong>Financial market networks:</strong> Analyzing the
interconnectedness of stock prices and other financial instruments.</li>
<li>
<strong>Economic systems:</strong> Understanding the relationships
between various economic indicators and their impact on the overall
economy.</li>
<li>
<strong>Social networks:</strong> Investigating the spread of
information and influence within social structures.</li>
<li>
<strong>Complex ecological systems:</strong> Studying the
interactions between different species and environmental factors.</li>
</ul>
<div class="section level2">
<h2 id="pattern-causality-matrix">Pattern Causality Matrix<a class="anchor" aria-label="anchor" href="#pattern-causality-matrix"></a>
</h2>
<p>In this vignette, we will utilize the DJS dataset, which comprises 29
stock price series. This dataset provides a sufficiently large and
complex system to demonstrate the capabilities of our multivariate
pattern causality analysis.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/skstavroglou/pattern_causality/" class="external-link">patterncausality</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">DJS</span><span class="op">)</span></span>
<span><span class="co">#head(DJS)</span></span></code></pre></div>
<p>Before estimating the causality matrix, it is crucial to determine
the optimal parameters for our analysis. These parameters, including the
embedding dimension (<code>E</code>) and time delay (<code>tau</code>),
significantly influence the accuracy and reliability of the results. We
use the <code>optimalParametersSearch</code> function to identify these
optimal values:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">DJS</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="co"># remove the date column</span></span>
<span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimalParametersSearch.html">optimalParametersSearch</a></span><span class="op">(</span></span>
<span>  Emax <span class="op">=</span> <span class="fl">3</span>, </span>
<span>  tauMax <span class="op">=</span> <span class="fl">3</span>, </span>
<span>  metric <span class="op">=</span> <span class="st">"euclidean"</span>, </span>
<span>  dataset <span class="op">=</span> <span class="va">dataset</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span></code></pre></div>
<p>With the optimal parameters identified, we can now estimate the
pattern causality matrix using the <code>pcMatrix</code> function. This
function calculates the causality between all pairs of time series in
the dataset, resulting in a matrix representation of the system’s causal
structure.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pcMatrix.html">pcMatrix</a></span><span class="op">(</span></span>
<span>  dataset <span class="op">=</span> <span class="va">dataset</span>, </span>
<span>  E <span class="op">=</span> <span class="fl">3</span>,           <span class="co"># Embedding dimension</span></span>
<span>  tau <span class="op">=</span> <span class="fl">1</span>,         <span class="co"># Time delay</span></span>
<span>  metric <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  h <span class="op">=</span> <span class="fl">1</span>,           <span class="co"># Prediction horizon</span></span>
<span>  weighted <span class="op">=</span> <span class="cn">FALSE</span>  <span class="co"># Unweighted analysis</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The resulting analysis yields three matrices, each representing a
different aspect of causality: positive, negative, and dark causality.
These matrices can be accessed through the <code>pc_matrix</code>
object.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; Pattern Causality Matrix Analysis:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of items: 29 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Positive causality matrix:</span></span>
<span><span class="co">#&gt;                        X3M American.Express     Apple    Boeing Caterpillar</span></span>
<span><span class="co">#&gt; X3M                     NA        0.2261268 0.2224979 0.2565688   0.2549020</span></span>
<span><span class="co">#&gt; American.Express 0.2318415               NA 0.2198748 0.2522231   0.2511664</span></span>
<span><span class="co">#&gt; Apple            0.2283262        0.2680412        NA 0.2622407   0.2674617</span></span>
<span><span class="co">#&gt; Boeing           0.2507485        0.2711864 0.2869058        NA   0.2675737</span></span>
<span><span class="co">#&gt; Caterpillar      0.2330168        0.2438080 0.2966432 0.3024545          NA</span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Negative causality matrix:</span></span>
<span><span class="co">#&gt;                        X3M American.Express     Apple    Boeing Caterpillar</span></span>
<span><span class="co">#&gt; X3M                     NA        0.2421696 0.2406948 0.2295209   0.2405732</span></span>
<span><span class="co">#&gt; American.Express 0.2523844               NA 0.2480438 0.2174616   0.2192846</span></span>
<span><span class="co">#&gt; Apple            0.2592275        0.2353952        NA 0.2456432   0.2248722</span></span>
<span><span class="co">#&gt; Boeing           0.2649701        0.2397094 0.2243536        NA   0.2290249</span></span>
<span><span class="co">#&gt; Caterpillar      0.2556611        0.2291022 0.2209212 0.2019002          NA</span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dark causality matrix:</span></span>
<span><span class="co">#&gt;                        X3M American.Express     Apple    Boeing Caterpillar</span></span>
<span><span class="co">#&gt; X3M                     NA        0.5317036 0.5368073 0.5139104   0.5045249</span></span>
<span><span class="co">#&gt; American.Express 0.5157740               NA 0.5320814 0.5303153   0.5295490</span></span>
<span><span class="co">#&gt; Apple            0.5124464        0.4965636        NA 0.4921162   0.5076661</span></span>
<span><span class="co">#&gt; Boeing           0.4842814        0.4891041 0.4887406        NA   0.5034014</span></span>
<span><span class="co">#&gt; Caterpillar      0.5113221        0.5270898 0.4824356 0.4956453          NA</span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<p>The <code>plot</code> function for object <code>pc_matrix</code>
provides a powerful tool for visualizing these complex matrices. By
plotting each causality type separately, we can gain a deeper
understanding of the system’s dynamics.</p>
<ul>
<li>Positive causality status</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, <span class="st">"positive"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
<ul>
<li>Negative causality status</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, <span class="st">"negative"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
<ul>
<li>Dark causality status</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, <span class="st">"dark"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
<p>The visualization reveals a clear positive connection within the
system, indicating a tendency for stocks to influence each other
positively.</p>
</div>
<div class="section level2">
<h2 id="pattern-causality-effect">Pattern Causality Effect<a class="anchor" aria-label="anchor" href="#pattern-causality-effect"></a>
</h2>
<p>Following the matrix calculation, we can quantify the total effect
within the system using the <code>pcEffect</code> function. This
function aggregates the causality measures to provide a system-wide
perspective on the overall impact of pattern causality.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">effects</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pcEffect.html">pcEffect</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">effects</span><span class="op">)</span></span>
<span><span class="co">#&gt; Pattern Causality Effect Analysis</span></span>
<span><span class="co">#&gt; --------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Positive Causality Effects:</span></span>
<span><span class="co">#&gt;                     received exerted   Diff</span></span>
<span><span class="co">#&gt; X3M                   650.70  634.25  16.45</span></span>
<span><span class="co">#&gt; American.Express      630.98  650.71 -19.72</span></span>
<span><span class="co">#&gt; Apple                 661.12  660.70   0.42</span></span>
<span><span class="co">#&gt; Boeing                688.59  688.43   0.15</span></span>
<span><span class="co">#&gt; Caterpillar           701.02  682.44  18.58</span></span>
<span><span class="co">#&gt; Chevron               650.07  635.85  14.22</span></span>
<span><span class="co">#&gt; Cisco.Systems         579.50  632.94 -53.44</span></span>
<span><span class="co">#&gt; Coca.Cola             634.74  627.41   7.34</span></span>
<span><span class="co">#&gt; DowDuPont             668.46  668.23   0.23</span></span>
<span><span class="co">#&gt; ExxonMobil            612.87  591.98  20.88</span></span>
<span><span class="co">#&gt; General.Electric      623.13  622.74   0.39</span></span>
<span><span class="co">#&gt; Goldman.Sachs         599.67  662.85 -63.18</span></span>
<span><span class="co">#&gt; IBM                   669.13  634.43  34.70</span></span>
<span><span class="co">#&gt; Intel                 640.67  626.83  13.84</span></span>
<span><span class="co">#&gt; Johnson...Johnson     647.65  601.69  45.96</span></span>
<span><span class="co">#&gt; JPMorgan.Chase        600.89  615.90 -15.01</span></span>
<span><span class="co">#&gt; McDonald.s            653.29  662.28  -8.99</span></span>
<span><span class="co">#&gt; Merck                 608.59  645.31 -36.72</span></span>
<span><span class="co">#&gt; Microsoft             615.45  605.13  10.32</span></span>
<span><span class="co">#&gt; Nike                  652.96  679.98 -27.02</span></span>
<span><span class="co">#&gt; Pfizer                605.23  605.80  -0.57</span></span>
<span><span class="co">#&gt; Procter...Gamble      620.69  570.01  50.67</span></span>
<span><span class="co">#&gt; The.Home.Depot        636.16  682.05 -45.89</span></span>
<span><span class="co">#&gt; Travelers             613.74  581.12  32.62</span></span>
<span><span class="co">#&gt; United.Technologies   625.72  664.30 -38.58</span></span>
<span><span class="co">#&gt; UnitedHealth.Group    621.44  637.87 -16.43</span></span>
<span><span class="co">#&gt; Verizon               630.72  623.24   7.48</span></span>
<span><span class="co">#&gt; Walmart               669.86  594.11  75.75</span></span>
<span><span class="co">#&gt; Walt.Disney           643.93  668.38 -24.45</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Negative Causality Effects:</span></span>
<span><span class="co">#&gt;                     received exerted   Diff</span></span>
<span><span class="co">#&gt; X3M                   719.26  729.68 -10.41</span></span>
<span><span class="co">#&gt; American.Express      712.08  700.91  11.17</span></span>
<span><span class="co">#&gt; Apple                 707.09  687.52  19.57</span></span>
<span><span class="co">#&gt; Boeing                703.02  676.41  26.60</span></span>
<span><span class="co">#&gt; Caterpillar           678.31  676.03   2.28</span></span>
<span><span class="co">#&gt; Chevron               715.89  737.31 -21.42</span></span>
<span><span class="co">#&gt; Cisco.Systems         752.02  724.54  27.48</span></span>
<span><span class="co">#&gt; Coca.Cola             712.08  759.47 -47.40</span></span>
<span><span class="co">#&gt; DowDuPont             712.68  674.83  37.85</span></span>
<span><span class="co">#&gt; ExxonMobil            748.99  767.41 -18.42</span></span>
<span><span class="co">#&gt; General.Electric      678.39  734.08 -55.69</span></span>
<span><span class="co">#&gt; Goldman.Sachs         792.84  689.82 103.02</span></span>
<span><span class="co">#&gt; IBM                   706.97  731.20 -24.23</span></span>
<span><span class="co">#&gt; Intel                 723.44  705.11  18.33</span></span>
<span><span class="co">#&gt; Johnson...Johnson     724.40  743.30 -18.90</span></span>
<span><span class="co">#&gt; JPMorgan.Chase        735.29  734.19   1.10</span></span>
<span><span class="co">#&gt; McDonald.s            694.97  716.52 -21.56</span></span>
<span><span class="co">#&gt; Merck                 739.65  709.82  29.83</span></span>
<span><span class="co">#&gt; Microsoft             719.92  762.08 -42.16</span></span>
<span><span class="co">#&gt; Nike                  717.16  654.36  62.80</span></span>
<span><span class="co">#&gt; Pfizer                711.68  739.91 -28.23</span></span>
<span><span class="co">#&gt; Procter...Gamble      715.60  815.15 -99.54</span></span>
<span><span class="co">#&gt; The.Home.Depot        734.57  662.25  72.32</span></span>
<span><span class="co">#&gt; Travelers             734.16  780.05 -45.89</span></span>
<span><span class="co">#&gt; United.Technologies   741.72  708.36  33.35</span></span>
<span><span class="co">#&gt; UnitedHealth.Group    735.82  714.69  21.13</span></span>
<span><span class="co">#&gt; Verizon               744.45  730.70  13.74</span></span>
<span><span class="co">#&gt; Walmart               693.07  760.45 -67.38</span></span>
<span><span class="co">#&gt; Walt.Disney           692.26  671.61  20.65</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dark Causality Effects:</span></span>
<span><span class="co">#&gt;                     received exerted   Diff</span></span>
<span><span class="co">#&gt; X3M                  1430.04 1436.07  -6.03</span></span>
<span><span class="co">#&gt; American.Express     1456.93 1448.38   8.55</span></span>
<span><span class="co">#&gt; Apple                1431.79 1451.78 -19.99</span></span>
<span><span class="co">#&gt; Boeing               1408.40 1435.15 -26.75</span></span>
<span><span class="co">#&gt; Caterpillar          1420.67 1441.54 -20.87</span></span>
<span><span class="co">#&gt; Chevron              1434.04 1426.84   7.20</span></span>
<span><span class="co">#&gt; Cisco.Systems        1468.48 1442.52  25.97</span></span>
<span><span class="co">#&gt; Coca.Cola            1453.18 1413.12  40.06</span></span>
<span><span class="co">#&gt; DowDuPont            1418.86 1456.95 -38.08</span></span>
<span><span class="co">#&gt; ExxonMobil           1438.15 1440.61  -2.46</span></span>
<span><span class="co">#&gt; General.Electric     1498.48 1443.18  55.30</span></span>
<span><span class="co">#&gt; Goldman.Sachs        1407.49 1447.33 -39.84</span></span>
<span><span class="co">#&gt; IBM                  1423.91 1434.37 -10.47</span></span>
<span><span class="co">#&gt; Intel                1435.88 1468.06 -32.17</span></span>
<span><span class="co">#&gt; Johnson...Johnson    1427.95 1455.01 -27.06</span></span>
<span><span class="co">#&gt; JPMorgan.Chase       1463.82 1449.91  13.91</span></span>
<span><span class="co">#&gt; McDonald.s           1451.75 1421.20  30.55</span></span>
<span><span class="co">#&gt; Merck                1451.75 1444.87   6.89</span></span>
<span><span class="co">#&gt; Microsoft            1464.63 1432.79  31.84</span></span>
<span><span class="co">#&gt; Nike                 1429.88 1465.66 -35.78</span></span>
<span><span class="co">#&gt; Pfizer               1483.09 1454.29  28.80</span></span>
<span><span class="co">#&gt; Procter...Gamble     1463.71 1414.84  48.87</span></span>
<span><span class="co">#&gt; The.Home.Depot       1429.27 1455.70 -26.43</span></span>
<span><span class="co">#&gt; Travelers            1452.10 1438.83  13.27</span></span>
<span><span class="co">#&gt; United.Technologies  1432.56 1427.34   5.22</span></span>
<span><span class="co">#&gt; UnitedHealth.Group   1442.74 1447.44  -4.70</span></span>
<span><span class="co">#&gt; Verizon              1424.83 1446.06 -21.22</span></span>
<span><span class="co">#&gt; Walmart              1437.07 1445.44  -8.37</span></span>
<span><span class="co">#&gt; Walt.Disney          1463.81 1460.01   3.80</span></span></code></pre></div>
<p>The total effect of pattern causality can be observed, providing a
measure of the overall strength of causal interactions within the
system.</p>
<ul>
<li>Positive causality status</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">effects</span>, status<span class="op">=</span><span class="st">"positive"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-10-1.png" width="768"></p>
<ul>
<li>Negative causality status</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">effects</span>, status<span class="op">=</span><span class="st">"negative"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-11-1.png" width="768"></p>
<ul>
<li>Dark causality status</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">effects</span>, status<span class="op">=</span><span class="st">"dark"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-12-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="cross-matrix-analysis">Cross Matrix analysis<a class="anchor" aria-label="anchor" href="#cross-matrix-analysis"></a>
</h2>
<p>Sometimes, we also need to face the problem that X has multiple
series, and Y also has multiple series, we want to know the causality
between each series in X and each series in Y, to save the computation
time, we can use the <code>pcCrossMatrix</code> function to get the
causality matrix from each series in X to Y.</p>
<p>This time we construct the datasets for X and Y in stock dataset.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">DJS</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span></span>
<span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">dataset</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">dataset</span><span class="op">[</span>, <span class="fl">11</span><span class="op">:</span><span class="fl">29</span><span class="op">]</span></span></code></pre></div>
<p>Then we can estimate the causality matrix from each series in X to Y
and give the new matrix from X to Y.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_cross</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pcCrossMatrix.html">pcCrossMatrix</a></span><span class="op">(</span></span>
<span>  X <span class="op">=</span> <span class="va">X</span>,</span>
<span>  Y <span class="op">=</span> <span class="va">Y</span>,</span>
<span>  E <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  tau <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  metric <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  h <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The new matrix will be saved in the <code>result_cross</code> object,
we can also plot the matrix by the <code>plot</code> function.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result_cross</span>, <span class="st">"positive"</span><span class="op">)</span></span></code></pre></div>
<p><img src="matrix_files/figure-html/unnamed-chunk-16-1.png" width="768"></p>
<p>This will show the causality matrix from each series in X to Y and
the color of the matrix represents the causality strength in the whole
period.</p>
<p>We provide the multiple types of multi-series pattern causality
analysis here and it would be useful to face many different situatiuons
for the matrix analysis and network analysis.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stavros Stavroglou, Athanasios Pantelous, Hui Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
